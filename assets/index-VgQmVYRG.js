(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();const fe=(e,n)=>e===n,ye=Symbol("solid-track"),O={equals:fe};let ie=ae;const E=1,j=2,re={owned:null,cleanups:null,context:null,owner:null};var A=null;let Y=null,ge=null,T=null,L=null,x=null,W=0;function U(e,n){const t=T,i=A,r=e.length===0,l=n===void 0?i:n,p=r?re:{owned:null,cleanups:null,context:l?l.context:null,owner:l},o=r?e:()=>e(()=>S(()=>q(p)));A=p,T=null;try{return F(o,!0)}finally{T=t,A=i}}function B(e,n){n=n?Object.assign({},O,n):O;const t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},i=r=>(typeof r=="function"&&(r=r(t.value)),le(t,r));return[se.bind(t),i]}function N(e,n,t){const i=Z(e,n,!1,E);G(i)}function me(e,n,t){ie=we;const i=Z(e,n,!1,E);(!t||!t.render)&&(i.user=!0),x?x.push(i):G(i)}function $(e,n,t){t=t?Object.assign({},O,t):O;const i=Z(e,n,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=t.equals||void 0,G(i),se.bind(i)}function S(e){if(T===null)return e();const n=T;T=null;try{return e()}finally{T=n}}function oe(e){me(()=>S(e))}function J(e){return A===null||(A.cleanups===null?A.cleanups=[e]:A.cleanups.push(e)),e}function se(){if(this.sources&&this.state)if(this.state===E)G(this);else{const e=L;L=null,F(()=>K(this),!1),L=e}if(T){const e=this.observers?this.observers.length:0;T.sources?(T.sources.push(this),T.sourceSlots.push(e)):(T.sources=[this],T.sourceSlots=[e]),this.observers?(this.observers.push(T),this.observerSlots.push(T.sources.length-1)):(this.observers=[T],this.observerSlots=[T.sources.length-1])}return this.value}function le(e,n,t){let i=e.value;return(!e.comparator||!e.comparator(i,n))&&(e.value=n,e.observers&&e.observers.length&&F(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r],p=Y&&Y.running;p&&Y.disposed.has(l),(p?!l.tState:!l.state)&&(l.pure?L.push(l):x.push(l),l.observers&&de(l)),p||(l.state=E)}if(L.length>1e6)throw L=[],new Error},!1)),n}function G(e){if(!e.fn)return;q(e);const n=W;Ce(e,e.value,n)}function Ce(e,n,t){let i;const r=A,l=T;T=A=e;try{i=e.fn(n)}catch(p){return e.pure&&(e.state=E,e.owned&&e.owned.forEach(q),e.owned=null),e.updatedAt=t+1,ce(p)}finally{T=l,A=r}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?le(e,i):e.value=i,e.updatedAt=t)}function Z(e,n,t,i=E,r){const l={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:A,context:A?A.context:null,pure:t};return A===null||A!==re&&(A.owned?A.owned.push(l):A.owned=[l]),l}function H(e){if(e.state===0)return;if(e.state===j)return K(e);if(e.suspense&&S(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<W);)e.state&&n.push(e);for(let t=n.length-1;t>=0;t--)if(e=n[t],e.state===E)G(e);else if(e.state===j){const i=L;L=null,F(()=>K(e,n[0]),!1),L=i}}function F(e,n){if(L)return e();let t=!1;n||(L=[]),x?t=!0:x=[],W++;try{const i=e();return be(t),i}catch(i){t||(x=null),L=null,ce(i)}}function be(e){if(L&&(ae(L),L=null),e)return;const n=x;x=null,n.length&&F(()=>ie(n),!1)}function ae(e){for(let n=0;n<e.length;n++)H(e[n])}function we(e){let n,t=0;for(n=0;n<e.length;n++){const i=e[n];i.user?e[t++]=i:H(i)}for(n=0;n<t;n++)H(e[n])}function K(e,n){e.state=0;for(let t=0;t<e.sources.length;t+=1){const i=e.sources[t];if(i.sources){const r=i.state;r===E?i!==n&&(!i.updatedAt||i.updatedAt<W)&&H(i):r===j&&K(i,n)}}}function de(e){for(let n=0;n<e.observers.length;n+=1){const t=e.observers[n];t.state||(t.state=j,t.pure?L.push(t):x.push(t),t.observers&&de(t))}}function q(e){let n;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),i=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const l=r.pop(),p=t.observerSlots.pop();i<r.length&&(l.sourceSlots[p]=i,r[i]=l,t.observerSlots[i]=p)}}if(e.owned){for(n=e.owned.length-1;n>=0;n--)q(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}e.state=0}function Te(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ce(e,n=A){throw Te(e)}const Ae=Symbol("fallback");function z(e){for(let n=0;n<e.length;n++)e[n]()}function $e(e,n,t={}){let i=[],r=[],l=[],p=0,o=n.length>1?[]:null;return J(()=>z(l)),()=>{let y=e()||[],g,s;return y[ye],S(()=>{let a=y.length,d,u,h,f,m,C,w,v,I;if(a===0)p!==0&&(z(l),l=[],i=[],r=[],p=0,o&&(o=[])),t.fallback&&(i=[Ae],r[0]=U(he=>(l[0]=he,t.fallback())),p=1);else if(p===0){for(r=new Array(a),s=0;s<a;s++)i[s]=y[s],r[s]=U(c);p=a}else{for(h=new Array(a),f=new Array(a),o&&(m=new Array(a)),C=0,w=Math.min(p,a);C<w&&i[C]===y[C];C++);for(w=p-1,v=a-1;w>=C&&v>=C&&i[w]===y[v];w--,v--)h[v]=r[w],f[v]=l[w],o&&(m[v]=o[w]);for(d=new Map,u=new Array(v+1),s=v;s>=C;s--)I=y[s],g=d.get(I),u[s]=g===void 0?-1:g,d.set(I,s);for(g=C;g<=w;g++)I=i[g],s=d.get(I),s!==void 0&&s!==-1?(h[s]=r[g],f[s]=l[g],o&&(m[s]=o[g]),s=u[s],d.set(I,s)):l[g]();for(s=C;s<a;s++)s in h?(r[s]=h[s],l[s]=f[s],o&&(o[s]=m[s],o[s](s))):r[s]=U(c);r=r.slice(0,p=a),i=y.slice(0)}return r});function c(a){if(l[s]=a,o){const[d,u]=B(s);return o[s]=u,n(y[s],d)}return n(y[s])}}}function D(e,n){return S(()=>e(n||{}))}const Le=e=>`Stale read from <${e}>.`;function M(e){const n="fallback"in e&&{fallback:()=>e.fallback};return $($e(()=>e.each,e.children,n||void 0))}function pe(e){const n=e.keyed,t=$(()=>e.when,void 0,{equals:(i,r)=>n?i===r:!i==!r});return $(()=>{const i=t();if(i){const r=e.children;return typeof r=="function"&&r.length>0?S(()=>r(n?i:()=>{if(!S(t))throw Le("Show");return e.when})):r}return e.fallback},void 0,void 0)}function Ne(e,n,t){let i=t.length,r=n.length,l=i,p=0,o=0,y=n[r-1].nextSibling,g=null;for(;p<r||o<l;){if(n[p]===t[o]){p++,o++;continue}for(;n[r-1]===t[l-1];)r--,l--;if(r===p){const s=l<i?o?t[o-1].nextSibling:t[l-o]:y;for(;o<l;)e.insertBefore(t[o++],s)}else if(l===o)for(;p<r;)(!g||!g.has(n[p]))&&n[p].remove(),p++;else if(n[p]===t[l-1]&&t[o]===n[r-1]){const s=n[--r].nextSibling;e.insertBefore(t[o++],n[p++].nextSibling),e.insertBefore(t[--l],s),n[r]=t[l]}else{if(!g){g=new Map;let c=o;for(;c<l;)g.set(t[c],c++)}const s=g.get(n[p]);if(s!=null)if(o<s&&s<l){let c=p,a=1,d;for(;++c<r&&c<l&&!((d=g.get(n[c]))==null||d!==s+a);)a++;if(a>s-o){const u=n[p];for(;o<s;)e.insertBefore(t[o++],u)}else e.replaceChild(t[o++],n[p++])}else p++;else n[p++].remove()}}}const ee="_$DX_DELEGATE";function Pe(e,n,t,i={}){let r;return U(l=>{r=l,n===document?e():P(n,e(),n.firstChild?null:void 0,t)},i.owner),()=>{r(),n.textContent=""}}function k(e,n,t){let i;const r=()=>{const p=document.createElement("template");return p.innerHTML=e,t?p.content.firstChild.firstChild:p.content.firstChild},l=n?()=>S(()=>document.importNode(i||(i=r()),!0)):()=>(i||(i=r())).cloneNode(!0);return l.cloneNode=l,l}function ue(e,n=window.document){const t=n[ee]||(n[ee]=new Set);for(let i=0,r=e.length;i<r;i++){const l=e[i];t.has(l)||(t.add(l),n.addEventListener(l,De))}}function b(e,n,t){t==null?e.removeAttribute(n):e.setAttribute(n,t)}function P(e,n,t,i){if(t!==void 0&&!i&&(i=[]),typeof n!="function")return R(e,n,i,t);N(r=>R(e,n(),r,t),i)}function De(e){const n=`$$${e.type}`;let t=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==t&&Object.defineProperty(e,"target",{configurable:!0,value:t}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}});t;){const i=t[n];if(i&&!t.disabled){const r=t[`${n}Data`];if(r!==void 0?i.call(t,r,e):i.call(t,e),e.cancelBubble)return}t=t._$host||t.parentNode||t.host}}function R(e,n,t,i,r){for(;typeof t=="function";)t=t();if(n===t)return t;const l=typeof n,p=i!==void 0;if(e=p&&t[0]&&t[0].parentNode||e,l==="string"||l==="number")if(l==="number"&&(n=n.toString()),p){let o=t[0];o&&o.nodeType===3?o.data!==n&&(o.data=n):o=document.createTextNode(n),t=_(e,t,i,o)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n;else if(n==null||l==="boolean")t=_(e,t,i);else{if(l==="function")return N(()=>{let o=n();for(;typeof o=="function";)o=o();t=R(e,o,t,i)}),()=>t;if(Array.isArray(n)){const o=[],y=t&&Array.isArray(t);if(Q(o,n,t,r))return N(()=>t=R(e,o,t,i,!0)),()=>t;if(o.length===0){if(t=_(e,t,i),p)return t}else y?t.length===0?te(e,o,i):Ne(e,t,o):(t&&_(e),te(e,o));t=o}else if(n.nodeType){if(Array.isArray(t)){if(p)return t=_(e,t,i,n);_(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function Q(e,n,t,i){let r=!1;for(let l=0,p=n.length;l<p;l++){let o=n[l],y=t&&t[l],g;if(!(o==null||o===!0||o===!1))if((g=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))r=Q(e,o,y)||r;else if(g==="function")if(i){for(;typeof o=="function";)o=o();r=Q(e,Array.isArray(o)?o:[o],Array.isArray(y)?y:[y])||r}else e.push(o),r=!0;else{const s=String(o);y&&y.nodeType===3&&y.data===s?e.push(y):e.push(document.createTextNode(s))}}return r}function te(e,n,t=null){for(let i=0,r=n.length;i<r;i++)e.insertBefore(n[i],t)}function _(e,n,t,i){if(t===void 0)return e.textContent="";const r=i||document.createTextNode("");if(n.length){let l=!1;for(let p=n.length-1;p>=0;p--){const o=n[p];if(r!==o){const y=o.parentNode===e;!l&&!p?y?e.replaceChild(r,o):e.insertBefore(r,t):y&&o.remove()}else l=!0}}else e.insertBefore(r,t);return[r]}var ke=k("<div><h1>Main App</h1><p>Select a prototype to view:</p><a>Go to Prototype 1</a><br><a>Go to Prototype 2");const ve=()=>{const n=window.location.pathname.includes("benthic")?"/benthic":"";return(()=>{var t=ke(),i=t.firstChild,r=i.nextSibling,l=r.nextSibling,p=l.nextSibling,o=p.nextSibling;return b(l,"href",`${n}/proto-one`),b(o,"href",`${n}/proto-two`),t})()},ne={0:{id:"0",displayName:"Stacked Bar Chart",description:"Major Trophies for some English teams. Stacked bar chart. With axes team and sum trophies.",descriptionTokens:{label:"Stacked Bar Chart",shortDescription:"Major Trophies for some English teams.",longDescription:"Major Trophies for some English teams. Stacked bar chart. With axes team and sum trophies."},parents:[],children:["1","2","22"],priority:0},1:{id:"1",displayName:"X-axis",description:"X Axis. Arsenal, Chelsea, Liverpool, Manchester United.",descriptionTokens:{label:"X-axis",shortDescription:"Contains 4 teams.",longDescription:"Contains Arsenal, Chelsea, Liverpool, Manchester United."},parents:["0"],children:["3","4","5","6"],priority:1},2:{id:"2",displayName:"Legend",description:"Legend. Contest included: BPL, FA Cup, CL.",descriptionTokens:{label:"Legend",shortDescription:"Contains 3 contests.",longDescription:"Contains BPL, FA Cup, CL."},parents:["0"],children:["7","8","9"],priority:2},3:{id:"3",displayName:"Arsenal",description:"Team: Arsenal. Total trophies: 17. Contains: 3 contests. Bar representing the number of trophies won by Arsenal.",descriptionTokens:{label:"Arsenal",shortDescription:"Contains: 3 contests. Total trophies: 17.",longDescription:"Team: Arsenal. Total trophies: 17. Contains: 3 contests. Bar representing the number of trophies won by Arsenal."},parents:["1"],children:["10","11","12"],priority:2},4:{id:"4",displayName:"Chelsea",description:"Team: Chelsea. Total trophies: 15. Contains: 3 contests. Bar representing the number of trophies won by Chelsea.",descriptionTokens:{label:"Chelsea",shortDescription:"Contains: 3 contests. Total trophies: 15.",longDescription:"Team: Chelsea. Total trophies: 15. Contains: 3 contests. Bar representing the number of trophies won by Chelsea."},parents:["1"],children:["13","14","15"],priority:2},5:{id:"5",displayName:"Liverpool",description:"Team: Liverpool. Total trophies: 15. Contains: 3 contests. Bar representing the number of trophies won by Liverpool",descriptionTokens:{label:"Liverpool",shortDescription:"Contains: 3 contests. Total trophies: 15.",longDescription:"Team: Liverpool. Total trophies: 15. Contains: 3 contests. Bar representing the number of trophies won by Liverpool"},parents:["1"],children:["16","17","18"],priority:2},6:{id:"6",displayName:"Manchester",description:"Team: Manchester United. Total trophies: 28. Contains: 3 contests. Bar representing the number of trophies won by Manchester United.",descriptionTokens:{label:"Manchester United",shortDescription:"Contains: 3 contests. Total trophies: 28.",longDescription:"Team: Manchester United. Total trophies: 28. Contains: 3 contests. Bar representing the number of trophies won by Manchester United."},parents:["1"],children:["19","20","21"],priority:2},7:{id:"7",displayName:"BPL",description:"Contest: BPL. Total trophies: 22. Contains: 4 teams. Legend grouping for the BPL competition.",descriptionTokens:{label:"BPL",shortDescription:"Contains: 4 teams. Total trophies: 22.",longDescription:"Contest: BPL. Total trophies: 22. Contains: 4 teams. Legend grouping for the BPL competition."},parents:["2"],children:["10","13","16","19"],priority:3},8:{id:"8",displayName:"FA Cup",description:"Contest: FA Cup. Total trophies: 42. Contains: 4 teams. Legend grouping for the FA Cup competition.",descriptionTokens:{label:"FA Cup",shortDescription:"Contains: 4 teams. Total trophies: 42.",longDescription:"Contest: FA Cup. Total trophies: 42. Contains: 4 teams. Legend grouping for the FA Cup competition."},parents:["2"],children:["11","14","17","20"],priority:3},9:{id:"9",displayName:"CL",description:"Contest: CL. Total trophies: 11. Contains: 4 teams. Legend grouping for the CL competition.",descriptionTokens:{label:"CL",shortDescription:"Contains: 4 teams. Total trophies: 11.",longDescription:"Contest: CL. Total trophies: 11. Contains: 4 teams. Legend grouping for the CL competition."},parents:["2"],children:["12","15","18","21"],priority:3},10:{id:"10",displayName:"Arsenal BPL",description:"Team: Arsenal. Contest: BPL. Trophies: 3. Data point.",descriptionTokens:{label:"Arsenal BPL",shortDescription:"Trophies: 3.",longDescription:"Team: Arsenal. Contest: BPL. Trophies: 3. Data point."},parents:["3","7"],children:[],priority:4},11:{id:"11",displayName:"Arsenal FA Cup",description:"Team: Arsenal. Contest: FA Cup. Trophies: 14. Data point.",descriptionTokens:{label:"Arsenal FA Cup",shortDescription:"Trophies: 14.",longDescription:"Team: Arsenal. Contest: FA Cup. Trophies: 14. Data point."},parents:["3","8"],children:[],priority:4},12:{id:"12",displayName:"Arsenal CL",description:"Team: Arsenal. Contest: CL. Trophies: 0. Data point.",descriptionTokens:{label:"Arsenal CL",shortDescription:"Trophies: 0.",longDescription:"Team: Arsenal. Contest: CL. Trophies: 0. Data point."},parents:["3","9"],children:[],priority:4},13:{id:"13",displayName:"Chelsea BPL",description:"Team: Chelsea. Contest: BPL. Trophies: 5. Data point.",descriptionTokens:{label:"Chelsea BPL",shortDescription:"Trophies: 5.",longDescription:"Team: Chelsea. Contest: BPL. Trophies: 5. Data point."},parents:["4","7"],children:[],priority:4},14:{id:"14",displayName:"Chelsea FA Cup",description:"Team: Chelsea. Contest: FA Cup. Trophies: 8. Data point.",descriptionTokens:{label:"Chelsea FA Cup",shortDescription:"Trophies: 8.",longDescription:"Team: Chelsea. Contest: FA Cup. Trophies: 8. Data point."},parents:["4","8"],children:[],priority:4},15:{id:"15",displayName:"Chelsea CL",description:"Team: Chelsea. Contest: CL. Trophies: 2. Data point.",descriptionTokens:{label:"Chelsea CL",shortDescription:"Trophies: 2.",longDescription:"Team: Chelsea. Contest: CL. Trophies: 2. Data point."},parents:["4","9"],children:[],priority:4},16:{id:"16",displayName:"Liverpool BPL",description:"Team: Liverpool. Contest: BPL. Trophies: 1. Data point.",descriptionTokens:{label:"Liverpool BPL",shortDescription:"Trophies: 1.",longDescription:"Team: Liverpool. Contest: BPL. Trophies: 1. Data point."},parents:["5","7"],children:[],priority:4},17:{id:"17",displayName:"Liverpool FA Cup",description:"Team: Liverpool. Contest: FA Cup. Trophies: 8. Data point.",descriptionTokens:{label:"Liverpool FA Cup",shortDescription:"Trophies: 8.",longDescription:"Team: Liverpool. Contest: FA Cup. Trophies: 8. Data point."},parents:["5","8"],children:[],priority:4},18:{id:"18",displayName:"Liverpool CL",description:"Team: Liverpool. Contest: CL. Trophies: 6. Data point.",descriptionTokens:{label:"Liverpool CL",shortDescription:"Trophies: 6.",longDescription:"Team: Liverpool. Contest: CL. Trophies: 6. Data point."},parents:["5","9"],children:[],priority:4},19:{id:"19",displayName:"Manchester BPL",description:"Team: Manchester United. Contest: BPL. Trophies: 13. Data point.",descriptionTokens:{label:"Manchester United BPL",shortDescription:"Trophies: 13.",longDescription:"Team: Manchester United. Contest: BPL. Trophies: 13. Data point."},parents:["6","7"],children:[],priority:4},20:{id:"20",displayName:"Manchester FA Cup",description:"Team: Manchester United. Contest: FA Cup. Trophies: 12. Data point.",descriptionTokens:{label:"Manchester United FA Cup",shortDescription:"Trophies: 12.",longDescription:"Team: Manchester United. Contest: FA Cup. Trophies: 12. Data point."},parents:["6","8"],children:[],priority:4},21:{id:"21",displayName:"Manchester United CL",description:"Team: Manchester United. Contest: CL. Trophies: 3. Data point.",descriptionTokens:{label:"Manchester United CL",shortDescription:"Trophies: 3.",longDescription:"Team: Manchester United. Contest: CL. Trophies: 3. Data point."},parents:["6","9"],children:[],priority:4},22:{id:"22",displayName:"Y-axis",description:"Y-axis. Label: count trophies. Values range from 0 to 30 on a numerical scale.",descriptionTokens:{label:"Y-axis",shortDescription:"Y-axis. Count trophies.",longDescription:"Y-axis. Label: count trophies. Values range from 0 to 30 on a numerical scale."},parents:["0"],children:[],priority:2}};function xe(e,n){const t=new Set,i=new Set;function r(l){if(t.has(l))return;t.add(l),i.add(l);const p=n[l];p&&p.siblings.forEach(o=>{t.has(o)||r(o)})}return r(e),i}function Se(e){const n={};for(const t in e){const i=e[t],r=new Set;i.parents.forEach(l=>{for(const p in e){const o=e[p];p!==t&&o.parents.includes(l)&&r.add(p)}}),n[t]={...i,siblings:Array.from(r)}}return n}var Ee=k("<div><button id=hidden-focus aria-hidden=true>Pressing Undo"),Be=k("<div><div id=home tabindex=0></div><div id=parents-group tabindex=0><span>Parents </span></div><div id=children-group tabindex=0><span>Children "),Ie=k('<span aria-label="There are no adjacent nodes"id=info-none> None'),V=k("<button><span>"),_e=k('<span aria-label="There are no parent nodes"> None'),Me=k('<span aria-label="There are no children nodes"> None');function Ge(e){const[n,t]=B(e.nodeGraph[0].id),[i,r]=B(Se(e.nodeGraph)),[l,p]=B([]),o=$(()=>n()!==null?i()[n()]:i()[0]),y=(s,c)=>{p(a=>[...a,s]),t(c),setTimeout(()=>{const a=document.getElementById(`info-${c}`);a&&(a.hasAttribute("tabindex")||a.setAttribute("tabindex","0"),a.focus())},0)},g=s=>{if(s.key==="u"){const c=document.getElementById("parents-group");c&&c.focus(),s.preventDefault()}else if(s.key==="d"){const c=o().children[0];if(c){t(c);const a=document.getElementById(`info-${c}`);a&&a.focus()}else{const a=document.getElementById("children-group");a&&a.focus()}s.preventDefault()}else if(s.key==="t")document.getElementById("home")?.focus();else if(s.key==="Backspace")p(c=>{const a=[...c],d=a.pop();if(d){const u=document.getElementById("hidden-focus");u&&u.focus(),t(d),setTimeout(()=>{const h=document.getElementById(`info-${d}`);h&&h.focus()},700)}return a});else if(s.key==="ArrowLeft"||s.key==="ArrowRight"||s.key==="ArrowUp"||s.key==="ArrowDown"){const c=document.activeElement,a=c?.id,u=["parents","children"].find(h=>a.startsWith(h));if(a.startsWith("info-")||a==="home"){const h=Array.from(document.querySelectorAll("#home button")),f=h.indexOf(c);let m=f;(s.key==="ArrowLeft"||s.key==="ArrowUp")&&f>0?m=f-1:(s.key==="ArrowRight"||s.key==="ArrowDown")&&f<h.length-1&&(m=f+1);const C=h[m]?.id.split("info-")[1];C&&t(C),h[m]?.focus(),s.preventDefault()}else if(u){const h=Array.from(document.querySelectorAll(`#${u}-group button`)),f=h.indexOf(c);(s.key==="ArrowLeft"||s.key==="ArrowUp")&&f>0?(h[f-1].focus(),s.preventDefault()):((s.key==="ArrowRight"||s.key==="ArrowDown")&&f<h.length-1&&h[f+1].focus(),s.preventDefault())}}else if(s.key==="Enter"){const c=document.activeElement;c&&c.tagName==="BUTTON"&&(c.click(),s.preventDefault())}};return oe(()=>{window.addEventListener("keydown",g)}),J(()=>{window.removeEventListener("keydown",g)}),(()=>{var s=Ee(),c=s.firstChild;return c.style.setProperty("position","absolute"),c.style.setProperty("width","1px"),c.style.setProperty("height","1px"),c.style.setProperty("margin","-1px"),c.style.setProperty("padding","0"),c.style.setProperty("border","0"),c.style.setProperty("clip","rect(0, 0, 0, 0)"),c.style.setProperty("overflow","hidden"),c.style.setProperty("white-space","nowrap"),P(s,D(pe,{get when(){return n()},get children(){return D(Fe,{get node(){return o()},get nodeGraph(){return i()},onNodeClick:y})}}),null),s})()}function Fe(e){const n=$(()=>e.node.parents.map(o=>e.nodeGraph[o]).sort((o,y)=>o.priority-y.priority)),t=$(()=>n().map(o=>o.descriptionTokens?.label).join(", ")),i=$(()=>e.node.children.map(o=>e.nodeGraph[o]).sort((o,y)=>o.priority-y.priority)),r=$(()=>i().map(o=>o.descriptionTokens?.label).join(", ")),l=$(()=>{const o=xe(e.node.id,e.nodeGraph);return Array.from(o).map(g=>e.nodeGraph[g]).sort((g,s)=>{const c=g.priority-s.priority;return c!==0?c:g.id.localeCompare(s.id)})}),p=$(()=>{const y=i().map(s=>s.descriptionTokens?.label).join(", "),g=y.length>0?"contains "+y:"";return`${e.node.displayName} node with ${e.node.parents.length} parent and ${e.node.children.length} children nodes; ${g}`});return(()=>{var o=Be(),y=o.firstChild,g=y.nextSibling,s=g.firstChild,c=g.nextSibling,a=c.firstChild;return o.style.setProperty("padding","20px"),P(y,D(M,{get each(){return l()},get fallback(){return(()=>{var d=Ie();return d.style.setProperty("color","grey"),d})()},children:(d,u)=>(()=>{var h=V(),f=h.firstChild;return h.$$click=()=>e.onNodeClick(e.node.id,d.id),h.style.setProperty("margin-right","5px"),b(f,"aria-hidden",!0),P(f,()=>d.displayName),N(m=>{var C=`Node ${u()+1} of ${l().length}; ${d.displayName}`,w=`info-${d.id}`;return C!==m.e&&b(h,"aria-label",m.e=C),w!==m.t&&b(h,"id",m.t=w),m},{e:void 0,t:void 0}),h})()})),g.style.setProperty("margin-top","10px"),s.style.setProperty("font-weight","bold"),b(s,"aria-hidden",!0),P(g,D(M,{get each(){return n()},get fallback(){return(()=>{var d=_e();return d.style.setProperty("color","grey"),N(()=>b(d,"id",`parents-${e.node.id}-0`)),d})()},children:(d,u)=>(()=>{var h=V(),f=h.firstChild;return h.$$click=()=>e.onNodeClick(e.node.id,d.id),h.style.setProperty("margin-right","5px"),b(f,"aria-hidden",!0),P(f,()=>d.displayName),N(m=>{var C=`Parent ${u()+1} of ${n().length}; ${d.displayName}`,w=`parents-${e.node.id}-${u()}`;return C!==m.e&&b(h,"aria-label",m.e=C),w!==m.t&&b(h,"id",m.t=w),m},{e:void 0,t:void 0}),h})()}),null),c.style.setProperty("margin-top","10px"),a.style.setProperty("font-weight","bold"),b(a,"aria-hidden",!0),P(c,D(M,{get each(){return i()},get fallback(){return(()=>{var d=Me();return d.style.setProperty("color","grey"),N(()=>b(d,"id",`children-${e.node.id}-0`)),d})()},children:(d,u)=>(()=>{var h=V(),f=h.firstChild;return h.$$click=()=>e.onNodeClick(e.node.id,d.id),h.style.setProperty("margin-right","5px"),b(f,"aria-hidden",!0),P(f,()=>d.displayName),N(m=>{var C=`Child ${u()+1} of ${i().length}; ${d.displayName}`,w=`children-${e.node.id}-${u()}`;return C!==m.e&&b(h,"aria-label",m.e=C),w!==m.t&&b(h,"id",m.t=w),m},{e:void 0,t:void 0}),h})()}),null),N(d=>{var u=p(),h=`${e.node.parents.length} parent relations; ${t()}`,f=`${e.node.children.length} child relations; ${r()}`;return u!==d.e&&b(y,"aria-label",d.e=u),h!==d.t&&b(g,"aria-label",d.t=h),f!==d.a&&b(c,"aria-label",d.a=f),d},{e:void 0,t:void 0,a:void 0}),o})()}ue(["click"]);var Ue=k("<div><button id=hidden-focus aria-hidden=true>Pressing Undo</button><button id=switch-focus aria-hidden=true>Switching Parent"),Oe=k("<div><div id=home tabindex=0></div><div id=parents-group tabindex=0><span>Parents </span></div><div id=children-group tabindex=0><span>Children "),je=k('<span aria-label="There are no adjacent nodes"id=info-none> None'),X=k("<button><span>"),He=k('<span aria-label="There are no parent nodes"> None'),Ke=k('<span aria-label="There are no children nodes"> None');function Re(e){const[n,t]=B(e.nodeGraph[0].id),[i,r]=B(["0"]),[l,p]=B(new Map),o=$(()=>n()!==null?e.nodeGraph[n()]:e.nodeGraph[0]),y=()=>{const c=e.nodeGraph[n()].parents,a=i()[i().length-2];return c.indexOf(a)},g=(c,a)=>{r(d=>[...d,c]),t(a),setTimeout(()=>{const d=document.getElementById(`info-${a}`);d&&(d.hasAttribute("tabindex")||d.setAttribute("tabindex","0"),d.focus())},0)},s=c=>{if(c.key==="u"){const a=i();if(a.length>2){a.pop();const d=a[a.length-1],u=a[a.length-2];if(u&&e.nodeGraph[d].parents.includes(u))r([...a]),t(d);else{const f=l().get(d);r([...f??["0"]]),t(d)}const h=document.getElementById(`info-${d}`);h&&h.focus()}else if(a.length>1){a.pop();const d=a[a.length-1];if(d){r([...a]),t(d);const u=document.getElementById(`info-${d}`);u&&u.focus()}}else document.getElementById("parents-group")?.focus();c.preventDefault()}else if(c.key==="d"){const a=e.nodeGraph[n()].children[0];if(a){r(u=>[...u,a]),t(a);const d=document.getElementById(`info-${a}`);d&&d.focus()}else{const d=document.getElementById("children-group");d&&d.focus()}c.preventDefault()}else if(c.key==="t")document.getElementById("home")?.focus();else if(c.key==="s"){const a=e.nodeGraph[n()].parents;if(a.length>0){let u=(y()+1)%a.length;const h=a[u];let f=i();const m=f.pop();f.pop(),r(w=>[...f,h,n()]);const C=document.getElementById("switch-focus");C&&C.focus(),setTimeout(()=>{const w=document.getElementById(`info-${m}`);w&&w.focus()},700)}c.preventDefault()}else if(c.key==="Backspace")r(a=>{const d=[...a],u=d.pop();if(u){const h=document.getElementById("hidden-focus");h&&h.focus(),t(u),setTimeout(()=>{const f=document.getElementById(`info-${u}`);f&&f.focus()},700)}return d});else if(c.key==="ArrowLeft"||c.key==="ArrowRight"||c.key==="ArrowUp"||c.key==="ArrowDown"){const a=document.activeElement,d=a?.id;if(d.startsWith("info-")||d==="home"){const u=Array.from(document.querySelectorAll("#home button")),h=u.indexOf(a);let f=h;(c.key==="ArrowLeft"||c.key==="ArrowUp")&&h>0?f=h-1:(c.key==="ArrowRight"||c.key==="ArrowDown")&&h<u.length-1&&(f=h+1);const m=u[f]?.id.split("info-")[1];if(m){const C=i();C.pop(),r([...C,m]),t(m)}u[f]?.focus(),c.preventDefault()}else c.preventDefault()}};return oe(()=>{const c=qe(e.nodeGraph);p(c),window.addEventListener("keydown",s)}),J(()=>{window.removeEventListener("keydown",s)}),(()=>{var c=Ue(),a=c.firstChild,d=a.nextSibling;return a.style.setProperty("position","absolute"),a.style.setProperty("width","1px"),a.style.setProperty("height","1px"),a.style.setProperty("margin","-1px"),a.style.setProperty("padding","0"),a.style.setProperty("border","0"),a.style.setProperty("clip","rect(0, 0, 0, 0)"),a.style.setProperty("overflow","hidden"),a.style.setProperty("white-space","nowrap"),d.style.setProperty("position","absolute"),d.style.setProperty("width","1px"),d.style.setProperty("height","1px"),d.style.setProperty("margin","-1px"),d.style.setProperty("padding","0"),d.style.setProperty("border","0"),d.style.setProperty("clip","rect(0, 0, 0, 0)"),d.style.setProperty("overflow","hidden"),d.style.setProperty("white-space","nowrap"),P(c,D(pe,{get when(){return n()},get children(){return D(We,{get history(){return i()},get node(){return o()},get nodeGraph(){return e.nodeGraph},onNodeClick:g})}}),null),c})()}function We(e){function n(y){if(!e.history||e.history.length<2)return[y];{const g=e.history[e.history.length-2];return e.nodeGraph[g].children}}const t=$(()=>e.node.parents.map(y=>e.nodeGraph[y]).sort((y,g)=>y.priority-g.priority)),i=$(()=>t().map(y=>y.descriptionTokens?.label).join(", ")),r=$(()=>e.node.children.map(y=>e.nodeGraph[y]).sort((y,g)=>y.priority-g.priority)),l=$(()=>r().map(y=>y.descriptionTokens?.label).join(", ")),p=$(()=>{const y=n(e.node.id);return Array.from(y).map(s=>e.nodeGraph[s]).sort((s,c)=>{const a=s.priority-c.priority;return a!==0?a:s.id.localeCompare(c.id)})}),o=$(()=>{const g=r().map(c=>c.descriptionTokens?.label).join(", "),s=g.length>0?"contains "+g:"";return`${e.node.displayName} node with ${e.node.parents.length} parent and ${e.node.children.length} children nodes; ${s}`});return(()=>{var y=Oe(),g=y.firstChild,s=g.nextSibling,c=s.firstChild,a=s.nextSibling,d=a.firstChild;return y.style.setProperty("padding","20px"),P(g,D(M,{get each(){return p()},get fallback(){return(()=>{var u=je();return u.style.setProperty("color","grey"),u})()},children:(u,h)=>(()=>{var f=X(),m=f.firstChild;return f.$$click=()=>e.onNodeClick(e.node.id,u.id),f.style.setProperty("margin-right","5px"),b(m,"aria-hidden",!0),P(m,()=>u.displayName),N(C=>{var w=`Node ${h()+1} of ${p().length}; ${u.displayName}`,v=`info-${u.id}`;return w!==C.e&&b(f,"aria-label",C.e=w),v!==C.t&&b(f,"id",C.t=v),C},{e:void 0,t:void 0}),f})()})),s.style.setProperty("margin-top","10px"),c.style.setProperty("font-weight","bold"),b(c,"aria-hidden",!0),P(s,D(M,{get each(){return t()},get fallback(){return(()=>{var u=He();return u.style.setProperty("color","grey"),N(()=>b(u,"id",`parents-${e.node.id}-0`)),u})()},children:(u,h)=>(()=>{var f=X(),m=f.firstChild;return f.$$click=()=>e.onNodeClick(e.node.id,u.id),f.style.setProperty("margin-right","5px"),b(m,"aria-hidden",!0),P(m,()=>u.displayName),N(()=>b(f,"id",`parents-${e.node.id}-${h()}`)),f})()}),null),a.style.setProperty("margin-top","10px"),d.style.setProperty("font-weight","bold"),b(d,"aria-hidden",!0),P(a,D(M,{get each(){return r()},get fallback(){return(()=>{var u=Ke();return u.style.setProperty("color","grey"),N(()=>b(u,"id",`children-${e.node.id}-0`)),u})()},children:(u,h)=>(()=>{var f=X(),m=f.firstChild;return f.$$click=()=>e.onNodeClick(e.node.id,u.id),f.style.setProperty("margin-right","5px"),b(m,"aria-hidden",!0),P(m,()=>u.displayName),N(()=>b(f,"id",`children-${e.node.id}-${h()}`)),f})()}),null),N(u=>{var h=o(),f=`${e.node.parents.length} parent relations; ${i()}`,m=`${e.node.children.length} child relations; ${l()}`;return h!==u.e&&b(g,"aria-label",u.e=h),f!==u.t&&b(s,"aria-label",u.t=f),m!==u.a&&b(a,"aria-label",u.a=m),u},{e:void 0,t:void 0,a:void 0}),y})()}function qe(e,n="0"){const t=new Map,i=[[n,[n]]];for(;i.length>0;){const[r,l]=i.shift();if(t.has(r))continue;t.set(r,l);const p=e[r].children;for(const o of p)t.has(o)||i.push([o,[...l,o]])}return t}ue(["click"]);const Ye=document.getElementById("root"),Ve=()=>{const e=window.location.pathname;return e.includes("proto-one")?D(Re,{nodeGraph:ne,showHypergraph:!1}):e.includes("proto-two")?D(Ge,{nodeGraph:ne,showHypergraph:!1}):D(ve,{})};Pe(()=>Ve(),Ye);
